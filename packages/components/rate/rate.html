<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>评分组件</title>
  <style>
    body {
      background-color: #EAEEF3;
      color: #333;
    }

    cp-paper {
      flex: 1;
      margin-right: 15px;
      max-width: 128px;
      min-height: 128px;
    }

    span {
      color: #999;
    }

    mark {
      font-size: 12px;
    }
  </style>
</head>

<body>
  <h1>评分组件</h1>
  <ul>
    <li>
      <h4>单个评分</h4>
      <ul>
        <li>
          <mark>评分组件由多个 “单个评分” 组件构成</mark>
          <br />
          <cp-rate-item value="100"></cp-rate-item>
        </li>
        <li>
          <mark>单个评分的值在 0 ~ 100之间</mark>
          <br />
          <cp-rate-item value="0"></cp-rate-item>
          <cp-rate-item value="20"></cp-rate-item>
          <cp-rate-item value="40"></cp-rate-item>
          <cp-rate-item value="60"></cp-rate-item>
          <cp-rate-item value="80"></cp-rate-item>
          <cp-rate-item value="85"></cp-rate-item>
          <cp-rate-item value="100"></cp-rate-item>
        </li>
        <li>
          <mark>可以设置单个评分的背景</mark>
          <br />
          <cp-rate-item base-color="yellow" value="50"></cp-rate-item>
          <cp-rate-item base-color="#f40" value="50"></cp-rate-item>
          <cp-rate-item base-color="blue" value="50"></cp-rate-item>
        </li>
        <li>
          <mark>可以设置单个评分的颜色</mark>
          <br />
          <cp-rate-item light-color="yellow" value="100"></cp-rate-item>
          <cp-rate-item light-color="#f40" value="100"></cp-rate-item>
          <cp-rate-item light-color="blue" value="100"></cp-rate-item>
        </li>
        <li>
          <mark>可以设置为只读</mark>
          <br />
          <cp-rate-item value="80" readonly="true"></cp-rate-item>
        </li>
        <li>
          <mark>禁用</mark>
          <br />
          <cp-rate-item value="80" disable="true"></cp-rate-item>
        </li>
      </ul>


    </li>
    <li>
      <h4>默认</h4>
      <ul>
        <li>
          <cp-rate>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>
        </li>
      </ul>
    </li>
    <li>
      <h4>受控的评分</h4>
      <ul>
        <li>
          <cp-rate id="controlled-rate" value="80">
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>

          <cp-button onclick="onClickControlRateAction('增加')">增加</cp-button>
          <cp-button onclick="onClickControlRateAction('减少')">减少</cp-button>
        </li>
      </ul>
    </li>
    <li>
      <h4>评分的精度</h4>
      <ul>
        <mark>评分精度需要小于单个评分所代表的评分值</mark>
        <li>
          <cp-rate precision="1" id="precision-rate">
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>
          <label>当前分数:<span id="precision">100</span></label>
          <script>
            const precisionRate = document.getElementById('precision-rate')
            const precision = document.getElementById('precision')
            precisionRate.addEventListener('change', (event) => {
              precision.innerHTML = event.detail.value
            })
          </script>
        </li>
      </ul>
    </li>
    <li>
      <h4>悬停反馈</h4>
      <ul>
        <mark>鼠标悬停时让组件显示一个辅助标签来帮助用户选择正确的评分值</mark>
        <li>
          <cp-rate id="hover-rate">
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>
          &nbsp;
          <label>当前分数:<span id="hover-current">100</span></label>
          &nbsp;
          <label>悬停分数:<span id="hover-hover">--</span></label>
          <script>
            const hoverRate = document.getElementById('hover-rate')
            const hoverCurrent = document.getElementById('hover-current')
            const hoverHover = document.getElementById('hover-hover')
            hoverRate.addEventListener('changehover', (event) => {
              hoverHover.innerHTML = event.detail.value
            })
            hoverRate.addEventListener('change', (event) => {
              hoverCurrent.innerHTML = event.detail.value
            })
          </script>
        </li>
      </ul>
    </li>
    <li>
      <h4>只读</h4>
      <ul>
        <li>
          <cp-rate readonly="true" value="75">
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>
        </li>
      </ul>
    </li>
    <li>
      <h4>禁用</h4>
      <ul>
        <li>
          <cp-rate disable="true" value="35">
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
            <cp-rate-item></cp-rate-item>
          </cp-rate>
        </li>
      </ul>
    </li>
  </ul>


  <script>
    function onClickControlRateAction(type) {
      const rate = document.getElementById('controlled-rate')
      const value = Number(rate.getAttribute('value'))
      switch (type) {
        case '增加':
          rate.setAttribute('value', value <= 95 ? value + 5 : 100)
          break
        case '减少':
          rate.setAttribute('value', value >= 5 ? value - 5 : 0)
          break
      }
    }
  </script>
  <script src="../index.js" type="module">


  </script>

</body>

</html>